# orb-slam2 application test suite

## Description:
Each application will run orb-slam2 using a specified data source. Currently supported data sources are:
- kitti: [Kitti Visual Odometry/SLAM dataset](http://www.cvlibs.net/datasets/kitti/eval_odometry.php)  
- tsr: The legacy data format which combines images with traffic sign detection data associated with images. [Format definition](https://jira.harman.com/jira/browse/INTHAD-191?filter=53275&jql=project%20%3D%20%22Highly%20Automated%20Driving%22%20AND%20%20labels%20in%20(Macs-SLAM-ORB2)%20AND%20assignee%20%3D%20PTavse%20ORDER%20BY%20created%20DESC) 
- dashcam: The MPEG transport stream generated by Ausdom A261 DashCam. [Format description and analysis](https://jira.harman.com/jira/browse/INTHAD-183?filter=53275&jql=project%20%3D%20%22Highly%20Automated%20Driving%22%20AND%20%20labels%20in%20(Macs-SLAM-ORB2)%20AND%20description%20~%20Ausdom%20ORDER%20BY%20created%20DESC)

## Bootstrap and build

## Run

The folder `scripts/windows` contains accordingly named scripts to run the orb-slam2 application. The scripts will attempt to configure and build the application if necessary.  

### Run kitti
* `run_ds_kitti.bat -s <path-to-settings-file> -i <path-to-image-folder> -t <path-to-timestamp-file>`
* download Kitti dataset with GPS support http://kitti.is.tue.mpg.de/kitti/raw_data/2011_09_26_drive_0009/2011_09_26_drive_0009_sync.zip and unzip into a folder `kitti_data_dir`. To run the data set `00` invoke script as follows: `run_ds_kitti.bat kitti_data_dir\image_00\data kitti_data_dir\oxts\data`

### Run kitti with gps
* `run_ds_kitti.bat -s <path-to-settings-file> -i <path-to-image-folder> -t <path-to-timestamp-file> -g <path-to-gps-folder> `
* download Kitti gps dataset http://kitti.is.tue.mpg.de/kitti/raw_data/2011_09_30_drive_0016/2011_09_30_drive_0016_sync.zip and unzip into a folder `kitti_raw_data_dir`:
* download Kitti dataset http://www.cvlibs.net/download.php?file=data_odometry_gray.zip and unzip into a folder `kitti_data_dir`.
To run the data set `04`, invoke script as follows: `run_ds_kitti.bat <path-to-setting-file> D:\HAD\orb_slam2_world\slam_data\data_odometry_gray\dataset\sequences\04\image_0 D:\HAD\orb_slam2_world\slam_data\data_odometry_gray\dataset\sequences\04\times.txt kitti_raw_data_dir\oxts\data`

### Run tsr
* `run_ds_tsr.bat -s <path-to-setting-file> -i <path-to-image-folder> -t <path-to-json-file>`   

### Run dashcam
* `run_ds_dashcam.bat -s <path-to-setting-file> -v <path-to-video-file>`